{"ast":null,"code":"import _objectSpread from \"/Users/nick/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/nick/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/nick/my-app/src/ThemeContext.js\";\nimport React from \"react\";\nimport { ThemeProvider as EmotionThemeProvider } from \"emotion-theming\";\nimport theme from \"./theme.js\";\nvar defaultContextData = {\n  dark: false,\n  toggle: function toggle() {}\n};\nvar ThemeContext = React.createContext(defaultContextData);\n\nvar useTheme = function useTheme() {\n  return React.useContext(ThemeContext);\n};\n\nvar useEffectDarkMode = function useEffectDarkMode() {\n  var _React$useState = React.useState({\n    dark: false,\n    hasThemeMounted: false\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      themeState = _React$useState2[0],\n      setThemeState = _React$useState2[1];\n\n  React.useEffect(function () {\n    var lsDark = localStorage.getItem(\"dark\") === \"true\";\n    setThemeState(_objectSpread({}, themeState, {\n      dark: lsDark,\n      hasThemeMounted: true\n    }));\n  }, []);\n  return [themeState, setThemeState];\n};\n\nvar ThemeProvider = function ThemeProvider(_ref) {\n  var children = _ref.children;\n\n  var _useEffectDarkMode = useEffectDarkMode(),\n      _useEffectDarkMode2 = _slicedToArray(_useEffectDarkMode, 2),\n      themeState = _useEffectDarkMode2[0],\n      setThemeState = _useEffectDarkMode2[1];\n\n  if (!themeState.hasThemeMounted) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    });\n  }\n\n  var toggle = function toggle() {\n    var dark = !themeState.dark;\n    localStorage.setItem(\"dark\", JSON.stringify(dark));\n    setThemeState(_objectSpread({}, themeState, {\n      dark: dark\n    }));\n  };\n\n  var computedTheme = themeState.dark ? theme(\"dark\") : theme(\"light\");\n  return React.createElement(EmotionThemeProvider, {\n    theme: computedTheme,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(ThemeContext.Provider, {\n    value: {\n      dark: themeState.dark,\n      toggle: toggle\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, children));\n};\n\nexport { ThemeProvider, useTheme };","map":{"version":3,"sources":["/Users/nick/my-app/src/ThemeContext.js"],"names":["React","ThemeProvider","EmotionThemeProvider","theme","defaultContextData","dark","toggle","ThemeContext","createContext","useTheme","useContext","useEffectDarkMode","useState","hasThemeMounted","themeState","setThemeState","useEffect","lsDark","localStorage","getItem","children","setItem","JSON","stringify","computedTheme"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,aAAa,IAAIC,oBAA1B,QAAsD,iBAAtD;AACA,OAAOC,KAAP,MAAkB,YAAlB;AAEA,IAAMC,kBAAkB,GAAG;AACzBC,EAAAA,IAAI,EAAE,KADmB;AAEzBC,EAAAA,MAAM,EAAE,kBAAM,CAAE;AAFS,CAA3B;AAKA,IAAMC,YAAY,GAAGP,KAAK,CAACQ,aAAN,CAAoBJ,kBAApB,CAArB;;AACA,IAAMK,QAAQ,GAAG,SAAXA,QAAW;AAAA,SAAMT,KAAK,CAACU,UAAN,CAAiBH,YAAjB,CAAN;AAAA,CAAjB;;AAEA,IAAMI,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;AAAA,wBACMX,KAAK,CAACY,QAAN,CAAe;AACjDP,IAAAA,IAAI,EAAE,KAD2C;AAEjDQ,IAAAA,eAAe,EAAE;AAFgC,GAAf,CADN;AAAA;AAAA,MACvBC,UADuB;AAAA,MACXC,aADW;;AAK9Bf,EAAAA,KAAK,CAACgB,SAAN,CAAgB,YAAM;AACpB,QAAMC,MAAM,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,MAAiC,MAAhD;AACAJ,IAAAA,aAAa,mBAAMD,UAAN;AAAkBT,MAAAA,IAAI,EAAEY,MAAxB;AAAgCJ,MAAAA,eAAe,EAAE;AAAjD,OAAb;AACD,GAHD,EAGG,EAHH;AAKA,SAAO,CAACC,UAAD,EAAaC,aAAb,CAAP;AACD,CAXD;;AAaA,IAAMd,aAAa,GAAG,SAAhBA,aAAgB,OAAkB;AAAA,MAAfmB,QAAe,QAAfA,QAAe;;AAAA,2BACFT,iBAAiB,EADf;AAAA;AAAA,MAC/BG,UAD+B;AAAA,MACnBC,aADmB;;AAGtC,MAAI,CAACD,UAAU,CAACD,eAAhB,EAAiC;AAC/B,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD;;AAED,MAAMP,MAAM,GAAG,SAATA,MAAS,GAAM;AACnB,QAAMD,IAAI,GAAG,CAACS,UAAU,CAACT,IAAzB;AACAa,IAAAA,YAAY,CAACG,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAelB,IAAf,CAA7B;AACAU,IAAAA,aAAa,mBAAMD,UAAN;AAAkBT,MAAAA,IAAI,EAAJA;AAAlB,OAAb;AACD,GAJD;;AAMA,MAAMmB,aAAa,GAAGV,UAAU,CAACT,IAAX,GAAkBF,KAAK,CAAC,MAAD,CAAvB,GAAkCA,KAAK,CAAC,OAAD,CAA7D;AAEA,SACE,oBAAC,oBAAD;AAAsB,IAAA,KAAK,EAAEqB,aAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,YAAD,CAAc,QAAd;AACE,IAAA,KAAK,EAAE;AACLnB,MAAAA,IAAI,EAAES,UAAU,CAACT,IADZ;AAELC,MAAAA,MAAM,EAANA;AAFK,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAMGc,QANH,CADF,CADF;AAYD,CA3BD;;AA6BA,SAASnB,aAAT,EAAwBQ,QAAxB","sourcesContent":["import React from \"react\";\nimport { ThemeProvider as EmotionThemeProvider } from \"emotion-theming\";\nimport theme from \"./theme.js\";\n\nconst defaultContextData = {\n  dark: false,\n  toggle: () => {}\n};\n\nconst ThemeContext = React.createContext(defaultContextData);\nconst useTheme = () => React.useContext(ThemeContext);\n\nconst useEffectDarkMode = () => {\n  const [themeState, setThemeState] = React.useState({\n    dark: false,\n    hasThemeMounted: false\n  });\n  React.useEffect(() => {\n    const lsDark = localStorage.getItem(\"dark\") === \"true\";\n    setThemeState({ ...themeState, dark: lsDark, hasThemeMounted: true });\n  }, []);\n\n  return [themeState, setThemeState];\n};\n\nconst ThemeProvider = ({ children }) => {\n  const [themeState, setThemeState] = useEffectDarkMode();\n\n  if (!themeState.hasThemeMounted) {\n    return <div />;\n  }\n\n  const toggle = () => {\n    const dark = !themeState.dark;\n    localStorage.setItem(\"dark\", JSON.stringify(dark));\n    setThemeState({ ...themeState, dark });\n  };\n\n  const computedTheme = themeState.dark ? theme(\"dark\") : theme(\"light\");\n\n  return (\n    <EmotionThemeProvider theme={computedTheme}>\n      <ThemeContext.Provider\n        value={{\n          dark: themeState.dark,\n          toggle\n        }}\n      >\n        {children}\n      </ThemeContext.Provider>\n    </EmotionThemeProvider>\n  );\n};\n\nexport { ThemeProvider, useTheme };\n"]},"metadata":{},"sourceType":"module"}